--TEST--
Solver Bug Exception caused by analyze on mutli conflict rule reported in GitHub issue 7051 https://github.com/composer/composer/issues/7051
--COMPOSER--
{
    "require": {
        "illuminate/queue": "*",
        "friendsofphp/php-cs-fixer": "*"
    },
    "repositories": {
        "illuminate/queue": {
            "type": "package",
            "package": [
                {
                    "name": "illuminate/queue",
                    "version": "v5.2.0",
                    "require": {
                        "illuminate/console": "5.2.*"
                    }
                }
            ]
        },
        "friendsofphp/php-cs-fixer": {
            "type": "package",
            "package": [
                {
                    "name": "friendsofphp/php-cs-fixer",
                    "version": "v2.10.5",
                    "type": "application",
                    "require": {
                        "symfony/console": "^3.2 || ^4.0"
                    }
                },
                {
                    "name": "friendsofphp/php-cs-fixer",
                    "version": "v2.10.4",
                    "type": "application",
                    "require": {
                        "symfony/console": "^3.2 || ^4.0"
                    }
                }
            ]
        },
        "illuminate/console": {
            "type": "package",
            "package": [
                {
                    "name": "illuminate/console",
                    "version": "v5.2.26",
                    "require": {
                        "symfony/console": "2.8.*"
                    }
                },
                {
                    "name": "illuminate/console",
                    "version": "v5.2.25",
                    "require": {
                        "symfony/console": "3.1.*"
                    }
                }
            ]
        },
        "symfony/console": {
            "type": "package",
            "package": [
                {
                    "name": "symfony/console",
                    "version": "v3.4.29"
                },
                {
                    "name": "symfony/console",
                    "version": "v3.4.28"
                },
                {
                    "name": "symfony/console",
                    "version": "v3.3.18"
                },
                {
                    "name": "symfony/console",
                    "version": "v3.3.17"
                },
                {
                    "name": "symfony/console",
                    "version": "v3.2.14"
                },
                {
                    "name": "symfony/console",
                    "version": "v3.2.13"
                },
                {
                    "name": "symfony/console",
                    "version": "v3.1.10"
                },
                {
                    "name": "symfony/console",
                    "version": "v3.1.9"
                },
                {
                    "name": "symfony/console",
                    "version": "v2.8.8"
                },
                {
                    "name": "symfony/console",
                    "version": "v2.8.7"
                }
            ]
        }
    }
}
--RUN--
update
--EXPECT-OUTPUT--
Loading composer repositories with package information
Updating dependencies
Your requirements could not be resolved to an installable set of packages.

  Problem 1
    - illuminate/console v5.2.25 requires symfony/console 3.1.* -> found symfony/console[v3.1.9, v3.1.10] but it conflicts with another require.
    - illuminate/console v5.2.26 requires symfony/console 2.8.* -> found symfony/console[v2.8.7, v2.8.8] but it conflicts with another require.
    - illuminate/queue v5.2.0 requires illuminate/console 5.2.* -> satisfiable by illuminate/console[v5.2.25, v5.2.26].
    - Root composer.json requires illuminate/queue * -> satisfiable by illuminate/queue[v5.2.0].
--EXPECT--

--EXPECT-EXIT-CODE--
2

